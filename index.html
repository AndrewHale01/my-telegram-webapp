<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Telegram WebApp</title>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TZN665FNYF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-TZN665FNYF');
  </script>
  <style>
    body {
      margin: 0;
      background: #222;
      color: #fff;
      font-family: 'Segoe UI', Arial, sans-serif; /* Nicer font */
      padding-bottom: 60px;
    }
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      position: relative;
    }
    .lang-btn {
      font-size: 1.5rem;
      cursor: pointer;
    }
    .lang-popup {
      display: none;
      position: absolute;
      top: 60px;
      left: 16px;
      background: #333;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      flex-direction: column;
      z-index: 10;
      width: 200px;
    }
    .lang-popup.active {
      display: flex;
    }
    .lang-option {
      background: none;
      color: #fff;
      border: none;
      padding: 8px 12px;
      text-align: left;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .lang-option:hover {
      background: #444;
    }
    .avatar-small {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid #00bfae;
      cursor: pointer;
      object-fit: cover;
      background: #111;
      transition: box-shadow 0.2s;
    }
    .avatar-small:hover {
      box-shadow: 0 0 0 4px #00bfae55;
    }
    /* Updated Profile Popup positioning */
    #profilePopup {
      top: 60px;
      right: 16px; /* Moved to right */
      left: auto; /* Reset left */
      max-width: 360px;
    }
    .popup {
      display: none;
      position: absolute;
      top: 60px;
      right: 0;
      background: #333;
      padding: 24px 20px 20px 20px;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
      z-index: 10;
      flex-direction: column;
      min-width: 0px;
      align-items: center;
      animation: fadeIn 0.2s;
    }
    .popup.active {
      display: flex;
    }

    .register-btn, .done-btn, .create-team-btn {
      background: #2196f3;
      color: #fff;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      margin: 8px 0;
      transition: background 0.2s;
      width: 100%;
      max-width: 220px;
    }
    .register-btn:hover, .done-btn:hover, .create-team-btn:hover {
      background: #1976d2;
    }

    .profile-form,
    .team-form {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
      max-width: 340px;
      margin-top: 8px;
      align-items: center;
    }
    .profile-form label,
    .team-form label {
      font-size: 0.95rem;
      color: #bbb;
      margin-bottom: 2px;
      align-self: flex-start;
    }
    .profile-form input,
    .team-form input[type="text"],
    .team-form input[type="file"] {
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #555;
      background: #222;
      color: #fff;
      font-size: 1rem;
      outline: none;
      width: 100%;
    }
    .profile-form input[readonly] {
      background: #222;
      color: #aaa;
      border: 1px solid #444;
    }

    .player-profile {
      width: 100%;
      max-width: 220px;
      background: #222;
      border-radius: 10px;
      padding: 12px 14px;
      font-size: 1rem;
      display: none;
      color: #fff;
    }
    .player-profile-title {
      margin-bottom: 8px;
      color: #00bfae;
      font-weight: bold;
      font-size: 1.05rem;
    }
    .player-profile-row {
      margin-bottom: 4px;
      word-break: break-word;
    }

    .success-message, .team-success-message {
      color: #00bfae;
      font-size: 1rem;
      margin: 10px 0 0 0;
      text-align: center;
    }

    .team-avatar-preview {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #00bfae;
      margin-bottom: 8px;
      background: #111;
      display: none;
    }

    .team-player-block {
      background: #292929;
      border-radius: 8px;
      padding: 10px 12px;
      margin-bottom: 8px;
      width: 100%;
      box-sizing: border-box;
    }
    .team-player-title {
      color: #00bfae;
      font-weight: bold;
      margin-bottom: 4px;
      font-size: 1rem;
    }

    .notification-btn {
      background: none;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      position: relative;
      margin-left: 8px;
      color: #fff;
    }
    .notification-badge {
      position: absolute;
      top: 2px;
      right: 10px;
      background: #e53935;
      color: #fff;
      border-radius: 50%;
      font-size: 0.85rem;
      min-width: 20px;
      min-height: 20px;
      padding: 0 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      border: 2px solid #222;
      box-sizing: border-box;
      z-index: 2;
    }

    #adminPopup {
      display: none;
      position: fixed;
      top: 90px;
      right: 20px;
      background: #1e1e1e;
      border: 2px solid #00bfae;
      border-radius: 16px;
      padding: 20px 24px;
      z-index: 999;
      width: 320px;
      box-shadow: 0 0 20px rgba(0, 191, 174, 0.3);
      font-family: 'Segoe UI', sans-serif;
      animation: fadeIn 0.2s ease-in-out;
    }

    #adminPopup.active {
      display: block;
    }

    #adminPopup h2 {
      color: #00bfae;
      margin-top: 0;
      margin-bottom: 16px;
      font-size: 20px;
      text-align: center;
    }

    #adminPopup button {
      padding: 10px 16px;
      font-size: 15px;
      background-color: #2b2b2b;
      color: #eee;
      border: 1px solid #00bfae;
      border-radius: 10px;
      margin-bottom: 10px;
      width: 100%;
      transition: background 0.2s;
    }

    #adminPopup button:hover {
      background-color: #00bfae;
      color: #111;
    }

    #closeAdminModal {
      position: absolute;
      top: 10px;
      right: 10px;
      background: transparent;
      color: #aaa;
      border: none;
      font-size: 18px;
      cursor: pointer;
    }

    #adminMenuBtn {
      font-size: 28px;
      padding: 12px 16px;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95);}
      to { opacity: 1; transform: scale(1);}
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #ccc;
      font-size: 0.85rem;
      cursor: pointer;
    }
    .nav-item span {
      font-size: 1.2rem;
      margin-bottom: 2px;
    }
    .nav-item.active, .nav-item:hover {
      color: #00bfae;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #111;
      display: flex;
      justify-content: space-around;
      border-top: 1px solid #333;
      padding: 8px 0;
      z-index: 100;
    }
    .news-section,
    .disciplines-section,
    .tournaments-section {
      margin-top: 24px;
      padding: 0 16px;
    }

    .news-title,
    .disciplines-title,
    .tournaments-title {
      margin-left: 4px;
      margin-bottom: 8px;
      font-size: 1.2rem;
      font-weight: bold;
      color: #00bfae;
    }
    .news-list,
    .disciplines-list,
    .tournament-list {
      display: flex;
      overflow-x: auto;
      gap: 16px;
      padding: 12px 4px;
      scroll-snap-type: x mandatory;
    }

    .news-card,
    .tournament-card,
    .discipline-card {
      flex: 0 0 auto;
      width: 280px;
      background: #292929;
      border: 2px solid #00bfae88;
      border-radius: 12px;
      padding: 16px;
      scroll-snap-align: start;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .news-card:hover,
    .tournament-card:hover,
    .discipline-card:hover {
      transform: scale(1.02);
      box-shadow: 0 4px 10px rgba(0, 191, 174, 0.25);
    }

    .news-card h4,
    .tournament-card h4 {
      margin-top: 0;
      color: #00bfae;
      font-size: 1.1rem;
    }

    .news-card p,
    .tournament-card p {
      font-size: 0.95rem;
      color: #ddd;
    }

    .discipline-img {
      width: 100%;
      border-radius: 8px;
      margin-bottom: 8px;
    }

    .discipline-name {
      font-weight: bold;
      text-align: center;
      font-size: 1rem;
      color: #fff;
    }
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #111;
      display: flex;
      justify-content: space-around;
      border-top: 1px solid #333;
      padding: 8px 0;
      z-index: 100;
    }
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #ccc;
      font-size: 0.85rem;
      cursor: pointer;
    }
    .nav-item span {
      font-size: 1.2rem;
      margin-bottom: 2px;
    }
    .nav-item:hover {
      color: #00bfae;
    }
    .section {
      padding: 24px 16px;
      display: none;
    }
    .section.active {
      display: block;
    }
    /* Updated Notification Popup positioning */
    #notificationPopup {
      right: 16px; /* Adjusted to align with other right-aligned elements */
      min-width: 280px;
    }

    /* New styles for consistent pages */
    .section h2 {
      margin-top: 0;
      margin-bottom: 16px;
      font-size: 1.5rem; /* Larger heading */
      font-weight: bold;
      color: #00bfae; /* Consistent highlight color */
      text-align: center;
    }
    .section p {
      font-size: 1rem;
      color: #ddd;
      line-height: 1.5;
      margin-bottom: 16px;
    }
    .section details {
      background: #292929;
      border: 2px solid #00bfae88;
      border-radius: 12px;
      padding: 12px 16px;
      margin-bottom: 12px;
      color: #fff;
      font-size: 1rem;
    }
    .section summary {
      font-weight: bold;
      color: #00bfae;
      cursor: pointer;
      padding: 4px 0;
    }
    .section details p {
      padding-top: 10px;
      margin-bottom: 0;
      color: #ccc;
      font-size: 1rem; /* Bigger font for rules */
      font-family: 'Segoe UI', Arial, sans-serif; /* Nicer font for rules */
    }

    /* Styles for Awards and Tournament Details */
    .award-card {
        background: #292929;
        border: 2px solid #00bfae88;
        border-radius: 12px;
        padding: 12px; /* Smaller padding for a more compact card */
        margin-bottom: 12px;
        display: flex; /* Make it horizontal */
        align-items: center; /* Vertically align items */
        gap: 12px; /* Space between icon and text */
        cursor: pointer; /* Indicate it's clickable */
        transition: transform 0.2s, box-shadow 0.2s;
    }
    .award-card:hover {
        transform: scale(1.02);
        box-shadow: 0 4px 10px rgba(0, 191, 174, 0.25);
    }

    .award-content-wrapper {
        display: flex;
        align-items: center;
        gap: 12px;
        width: 100%; /* Take full width of card */
    }

    .award-card-icon {
        font-size: 2.2rem; /* Size for emoji icon */
        line-height: 1;
        flex-shrink: 0; /* Prevent icon from shrinking */
    }

    .award-card-img {
        width: 48px; /* Size for image icon */
        height: 48px;
        object-fit: cover;
        border-radius: 8px; /* Slightly rounded corners for images */
        flex-shrink: 0;
    }

    .award-text-content {
        flex-grow: 1; /* Allow text content to take available space */
    }

    .award-text-content h4 {
        margin: 0;
        color: #00bfae;
        font-size: 1.1rem;
        white-space: nowrap; /* Prevent title from wrapping */
        overflow: hidden; /* Hide overflow */
        text-overflow: ellipsis; /* Add ellipsis if too long */
    }

    .tournament-name-on-card {
        margin: 4px 0 0;
        font-size: 0.9rem;
        color: #ddd;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .btn-primary {
        background: #00bfae;
        color: #fff;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: bold;
        cursor: pointer;
        margin-top: 20px;
        transition: background 0.2s ease-in-out;
        width: 100%;
        max-width: 300px;
        display: block; /* Make it a block element to center with margin auto */
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    }

    .btn-primary:hover {
        background: #008f82;
    }

    .back-btn {
        background: #333;
        color: #eee;
        border: 1px solid #555;
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 0.9rem;
        cursor: pointer;
        margin-top: 20px;
        margin-bottom: 10px;
        transition: background 0.2s ease-in-out;
    }

    .back-btn:hover {
        background: #444;
    }

    .ranking-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        color: #fff;
    }

    .ranking-table th,
    .ranking-table td {
        padding: 10px;
        border: 1px solid #333;
        text-align: left;
    }

    .ranking-table th {
        background-color: #00bfae;
        color: #111;
        font-weight: bold;
    }

    .ranking-table tbody tr:nth-child(even) {
        background-color: #292929;
    }

    .ranking-table tbody tr:nth-child(odd) {
        background-color: #222;
    }

    /* Styles for the new Tournament section */
    .tournament-section-content {
        background: #292929;
        border: 2px solid #00bfae88;
        border-radius: 12px;
        padding: 16px;
        margin-top: 20px;
    }

    .tournament-section-content h3 {
        color: #00bfae;
        margin-top: 0;
        margin-bottom: 10px;
    }

    .tournament-section-content .dropdown-container {
        margin-bottom: 15px;
    }

    .tournament-section-content select,
    .tournament-section-content button {
        padding: 8px 12px;
        border-radius: 6px;
        border: 1px solid #555;
        background: #222;
        color: #fff;
        font-size: 1rem;
        cursor: pointer;
        margin-right: 10px;
    }

    .tournament-section-content select {
        width: calc(100% - 20px); /* Adjusted for full width on smaller screens */
        max-width: 200px;
    }
    /* Responsive adjustment for dropdowns */
    @media (min-width: 600px) {
      .tournament-section-content select {
        width: calc(50% - 15px);
      }
    }

    .tournament-section-content button {
        background: #00bfae;
        border-color: #00bfae;
    }

    .tournament-section-content button:hover {
        background: #008f82;
        border-color: #008f82;
    }

    .tournament-section-content .group-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }

    .tournament-section-content .group-table th,
    .tournament-section-content .group-table td {
        border: 1px solid #333;
        padding: 8px;
        text-align: left;
    }

    .tournament-section-content .group-table th {
        background-color: #00bfae;
        color: #111;
    }

    .tournament-section-content .group-table tbody tr:nth-child(even) {
        background-color: #292929;
    }

    .tournament-section-content .group-table tbody tr:nth-child(odd) {
        background-color: #222;
    }

    .tournament-section-content .playoff-bracket {
        margin-top: 20px;
        text-align: center; /* Center the bracket content */
        color: #ddd;
    }

    .tournament-section-content .playoff-bracket img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 0 auto;
        border-radius: 8px;
        border: 1px solid #00bfae;
    }

    /* Styles for the Tournament Creation Modal */
    .modal {
      display: none; /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 1001; /* Sit on top */
      left: 0;
      top: 0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
      padding-top: 60px;
    }

    .modal-content {
      background-color: #333;
      margin: 5% auto; /* 5% from the top and centered */
      padding: 20px;
      border: 1px solid #00bfae;
      border-radius: 12px;
      width: 90%; /* Could be more responsive */
      max-width: 500px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.5);
      animation: fadeIn 0.3s ease-out;
      position: relative;
    }

    .close-button {
      color: #aaa;
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close-button:hover,
    .close-button:focus {
      color: #fff;
      text-decoration: none;
      cursor: pointer;
    }

    .modal h2 {
      color: #00bfae;
      text-align: center;
      margin-top: 0;
      margin-bottom: 20px;
      font-size: 1.8rem;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: #eee;
      font-size: 0.95rem;
    }

    .form-group input[type="text"],
    .form-group input[type="date"],
    .form-group input[type="number"],
    .form-group textarea,
    .form-group select {
      width: calc(100% - 20px);
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #555;
      background: #222;
      color: #fff;
      font-size: 1rem;
      outline: none;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 80px;
    }

    .submit-btn {
      background: #00bfae;
      color: #fff;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      display: block;
      width: 100%;
      max-width: 250px;
      margin: 20px auto 0;
      transition: background 0.2s ease-in-out;
    }

    .submit-btn:hover {
      background: #008f82;
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="lang-btn" id="langBtn">üåê</div>
    <div id="langPopup" class="lang-popup popup">
      <button class="lang-option" data-lang="uk">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</button>
      <button class="lang-option" data-lang="en">üá¨üáß English</button>
      <button class="lang-option" data-lang="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
      <button class="lang-option" data-lang="pl">üáµüá± Polski</button>
    </div>
    <img id="avatar" class="avatar-small" src="avatar.jpg" alt="Avatar">
    <button id="notificationBtn" class="notification-btn" title="–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è">
      üîî
      <span id="notificationBadge" class="notification-badge" style="display:none;">0</span>
    </button>
    <div class="admin-menu" id="adminMenuBtn" title="–ê–¥–º—ñ–Ω-–º–µ–Ω—é">üõ°Ô∏è</div>
    <div id="adminPopup" class="adminPopup popup">
      <h2 id="adminMenuTitle" style="color:#00bfae; margin-top:0;">–ê–¥–º—ñ–Ω-–º–µ–Ω—é</h2>
      <div style="display:flex; flex-direction:column; gap:12px;">
        <button id="createTournamentAdminBtn" data-i18n="create_tournament_btn">‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—É—Ä–Ω—ñ—Ä</button>
        <button id="banUserBtn" data-i18n="ban_user">üö´ –ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</button>
        <button id="unbanUserBtn" data-i18n="unban_user">‚úÖ –†–æ–∑–±–ª–æ–∫—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</button>
        <button id="givePrizeBtn" data-i18n="give_prize">üèÜ –í–∏–¥–∞—Ç–∏ –ø—Ä–∏–∑</button>
        <button id="disqualifyTeamBtn" data-i18n="disqualify_team">‚ùå –î–∏—Å–∫–≤–∞–ª—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É</button>
        </div>
    </div>

    <div id="profilePopup" class="popup">
      <button class="register-btn" id="registerBtn" data-i18n="register">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å</button>
    </div>
    <form class="profile-form" id="profileForm" style="display:none;">
      <label for="standoffNick" data-i18n="standoff_nick">–ù—ñ–∫ –≤ Standoff</label>
      <input type="text" id="standoffNick" name="standoffNick" required maxlength="32" autocomplete="off">
      <label for="standoffId" data-i18n="standoff_id">ID –≤ Standoff</label>
      <input type="text" id="standoffId" name="standoffId" required maxlength="32" autocomplete="off">
      <label for="tgUser" data-i18n="tg_user">Telegram</label>
      <input type="text" id="tgUser" name="tgUser" readonly>
      <button type="submit" class="done-btn" id="doneBtn" data-i18n="done">–ì–æ—Ç–æ–≤–æ</button>
    </form>

    <div class="player-profile" id="playerProfile">
      <div class="player-profile-title" data-i18n="profile">–ü—Ä–æ—Ñ—ñ–ª—å –≥—Ä–∞–≤—Ü—è</div>
      <div class="player-profile-row">
        <span data-i18n="standoff_nick">–ù—ñ–∫ –≤ Standoff</span>: <span id="profileNick"></span>
      </div>
      <div class="player-profile-row">
        <span data-i18n="standoff_id">ID –≤ Standoff</span>: <span id="profileId"></span>
      </div>
      <div class="player-profile-row">
        <span data-i18n="tg_user">Telegram</span>: <span id="profileTg"></span>
      </div>
    </div>

    <button class="create-team-btn" id="createTeamBtn" style="display:none;" data-i18n="create_team">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–º–∞–Ω–¥—É</button>
    <div class="success-message" id="successMsg" style="display:none;" data-i18n="profile_saved">–ü—Ä–æ—Ñ—ñ–ª—å –∑–±–µ—Ä–µ–∂–µ–Ω–æ!</div>

    <form class="team-form" id="teamForm" style="display:none;">
      <label for="teamAvatar" data-i18n="team_avatar">–ê–≤–∞—Ç–∞—Ä–∫–∞ –∫–æ–º–∞–Ω–¥–∏</label>
      <input type="file" id="teamAvatar" accept="image/*">
      <img id="teamAvatarPreview" class="team-avatar-preview" src="#" alt="Team Avatar">

      <label for="teamTag" data-i18n="team_tag">–¢–µ–≥ –∫–æ–º–∞–Ω–¥–∏</label>
      <input type="text" id="teamTag" maxlength="12" required data-i18n-placeholder="team_tag_ph">

      <label for="teamName" data-i18n="team_name">–ù–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏</label>
      <input type="text" id="teamName" maxlength="32" required data-i18n-placeholder="team_name_ph">

      <div class="team-player-block">
        <div class="team-player-title" data-i18n="main_player1">–ì—Ä–∞–≤–µ—Ü—å 1 (–∫–∞–ø—ñ—Ç–∞–Ω)</div>
        <input type="text" id="main1Id" placeholder="ID –≤ Standoff 2" required data-i18n-placeholder="player_id_ph">
        <input type="text" id="main1Nick" placeholder="–ù—ñ–∫–Ω–µ–π–º" required data-i18n-placeholder="player_nick_ph">
        <input type="text" id="main1Tg" placeholder="Telegram" required data-i18n-placeholder="player_tg_ph">
      </div>
      <div class="team-player-block">
        <div class="team-player-title" data-i18n="main_player2">–ì—Ä–∞–≤–µ—Ü—å 2 (–æ—Å–Ω–æ–≤–Ω–∏–π)</div>
        <input type="text" id="main2Id" placeholder="ID –≤ Standoff 2" required data-i18n-placeholder="player_id_ph">
        <input type="text" id="main2Nick" placeholder="–ù—ñ–∫–Ω–µ–π–º" required data-i18n-placeholder="player_nick_ph">
        <input type="text" id="main2Tg" placeholder="Telegram" required data-i18n-placeholder="player_tg_ph">
      </div>
      <div class="team-player-block">
        <div class="team-player-title" data-i18n="main_player3">–ì—Ä–∞–≤–µ—Ü—å 3 (–æ—Å–Ω–æ–≤–Ω–∏–π)</div>
        <input type="text" id="main3Id" placeholder="ID –≤ Standoff 2" required data-i18n-placeholder="player_id_ph">
        <input type="text" id="main3Nick" placeholder="–ù—ñ–∫–Ω–µ–π–º" required data-i18n-placeholder="player_nick_ph">
        <input type="text" id="main3Tg" placeholder="Telegram" required data-i18n-placeholder="player_tg_ph">
      </div>
      <div class="team-player-block">
        <div class="team-player-title" data-i18n="main_player4">–ì—Ä–∞–≤–µ—Ü—å 4 (–æ—Å–Ω–æ–≤–Ω–∏–π)</div>
        <input type="text" id="main4Id" placeholder="ID –≤ Standoff 2" required data-i18n-placeholder="player_id_ph">
        <input type="text" id="main4Nick" placeholder="–ù—ñ–∫–Ω–µ–π–º" required data-i18n-placeholder="player_nick_ph">
        <input type="text" id="main4Tg" placeholder="Telegram" required data-i18n-placeholder="player_tg_ph">
      </div>
      <div class="team-player-block">
        <div class="team-player-title" data-i18n="main_player5">–ì—Ä–∞–≤–µ—Ü—å 5 (–æ—Å–Ω–æ–≤–Ω–∏–π)</div>
        <input type="text" id="main5Id" placeholder="ID –≤ Standoff 2" required data-i18n-placeholder="player_id_ph">
        <input type="text" id="main5Nick" placeholder="–ù—ñ–∫–Ω–µ–π–º" required data-i18n-placeholder="player_nick_ph">
        <input type="text" id="main5Tg" placeholder="Telegram" required data-i18n-placeholder="player_tg_ph">
      </div>
      <div class="team-player-block">
        <div class="team-player-title" data-i18n="spare_player1">–ì—Ä–∞–≤–µ—Ü—å 6 (–∑–∞–ø–∞—Å–Ω–∏–π)</div>
        <input type="text" id="spare1Id" placeholder="ID –≤ Standoff 2" required data-i18n-placeholder="player_id_ph">
        <input type="text" id="spare1Nick" placeholder="–ù—ñ–∫–Ω–µ–π–º" required data-i18n-placeholder="player_nick_ph">
        <input type="text" id="spare1Tg" placeholder="Telegram" required data-i18n-placeholder="player_tg_ph">
      </div>
      <div class="team-player-block">
        <div class="team-player-title" data-i18n="spare_player2">–ì—Ä–∞–≤–µ—Ü—å 7 (–∑–∞–ø–∞—Å–Ω–∏–π)</div>
        <input type="text" id="spare2Id" placeholder="ID –≤ Standoff 2" required data-i18n-placeholder="player_id_ph">
        <input type="text" id="spare2Nick" placeholder="–ù—ñ–∫–Ω–µ–π–º" required data-i18n-placeholder="player_nick_ph">
        <input type="text" id="spare2Tg" placeholder="Telegram" required data-i18n-placeholder="player_tg_ph">
      </div>
      <button type="submit" class="done-btn" id="teamDoneBtn" data-i18n="team_done">–ì–æ—Ç–æ–≤–æ</button>
    </form>
    <div class="team-success-message" id="teamSuccessMsg" style="display:none;" data-i18n="team_created">–ö–æ–º–∞–Ω–¥—É —Å—Ç–≤–æ—Ä–µ–Ω–æ!</div>
  </div>
  <div id="notificationPopup" class="popup">
    <div style="font-weight:bold; color:#00bfae; margin-bottom:8px;" id="notificationTitle">–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</div>
    <div id="notificationList" style="width:100%;"></div>
    <button id="clearNotificationsBtn" class="done-btn" style="margin-top:10px;">–û—á–∏—Å—Ç–∏—Ç–∏</button>
  </div>

  <div id="homeSection" class="section active">
    <div class="main-section" id="mainSection">
      <div class="news-section">
        <div class="news-title" data-i18n="news">–ù–æ–≤–∏–Ω–∏</div>
        <div class="news-list" id="newsList">
          <div class="news-card">
            <h4 data-i18n="news1title">üîî –û–Ω–æ–≤–ª–µ–Ω–Ω—è</h4>
            <p data-i18n="news1desc">–ú–∏ –¥–æ–¥–∞–ª–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏ —Ç–∞ –æ–Ω–æ–≤–∏–ª–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.</p>
          </div>
          <div class="news-card">
            <h4 data-i18n="news2title">üèÜ –¢—É—Ä–Ω—ñ—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–æ</h4>
            <p data-i18n="news2desc">–¢–µ–ø–µ—Ä —É—Å—ñ —Ç—É—Ä–Ω—ñ—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –Ω–∞ –æ–∫—Ä–µ–º—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.</p>
          </div>
        </div>
      </div>
      <div class="disciplines-section">
        <div class="disciplines-title" data-i18n="disciplines">–î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏</div>
        <div class="disciplines-list">
          <div class="discipline-card">
            <img src="Standoff2.jpg" alt="Standoff 2" class="discipline-img">
            <div class="discipline-name">Standoff 2</div>
          </div>
        </div>
      </div>
      <div class="tournaments-section">
        <div class="tournaments-title" data-i18n="tournaments">–¢—É—Ä–Ω—ñ—Ä–∏</div>
        <div class="tournament-list" id="tournamentList">
          <div class="tournament-card">
            <h4>RFORZ Grad Prix</h4>
            <p data-i18n="tournament1desc">–°—Ç–∞—Ä—Ç: 1 –ª–∏–ø–Ω—è. –ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥: 5000‚Ç¥</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="awardsSection" class="section">
    <h2 data-i18n="awards_title">–ù–∞–≥–æ—Ä–æ–¥–∏</h2>
    <div id="awardsList">
      </div>
  </div>

  <div id="tournamentViewSection" class="section">
    <h2 data-i18n="tournament_view_title">–ü–µ—Ä–µ–≥–ª—è–¥ –¢—É—Ä–Ω—ñ—Ä—É</h2>
    <div class="tournament-section-content">
      <div id="userTournamentView">
        <div class="dropdown-container">
          <select id="groupStageDropdown">
            <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –≥—Ä—É–ø—É</option>
            <option value="groupA">–ì—Ä—É–ø–∞ A</option>
            <option value="groupB">–ì—Ä—É–ø–∞ B</option>
          </select>
          <div id="groupATable" style="display:none;">
            <h3>–ì—Ä—É–ø–∞ A</h3>
            <table class="group-table">
              <thead>
                <tr>
                  <th>–ö–æ–º–∞–Ω–¥–∞</th>
                  <th>–ü–µ—Ä–µ–º–æ–≥–∏</th>
                  <th>–ü–æ—Ä–∞–∑–∫–∏</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Alpha</td><td>3</td><td>0</td></tr>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Beta</td><td>2</td><td>1</td></tr>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Gamma</td><td>1</td><td>2</td></tr>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Delta</td><td>0</td><td>3</td></tr>
              </tbody>
            </table>
          </div>
          <div id="groupBTable" style="display:none;">
            <h3>–ì—Ä—É–ø–∞ B</h3>
            <table class="group-table">
              <thead>
                <tr>
                  <th>–ö–æ–º–∞–Ω–¥–∞</th>
                  <th>–ü–µ—Ä–µ–º–æ–≥–∏</th>
                  <th>–ü–æ—Ä–∞–∑–∫–∏</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Echo</td><td>3</td><td>0</td></tr>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Foxtrot</td><td>2</td><td>1</td></tr>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Golf</td><td>1</td><td>2</td></tr>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Hotel</td><td>0</td><td>3</td></tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="dropdown-container">
          <select id="playoffDropdown">
            <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –µ—Ç–∞–ø –ø–ª–µ–π-–æ—Ñ—Ñ</option>
            <option value="playoffBracket">–°—ñ—Ç–∫–∞ –ø–ª–µ–π-–æ—Ñ—Ñ</option>
          </select>
          <div id="playoffBracketView" class="playoff-bracket" style="display:none;">
            <h3>–°—ñ—Ç–∫–∞ –ø–ª–µ–π-–æ—Ñ—Ñ</h3>
            <p>–¢—É—Ç –±—É–¥–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–æ —Å—ñ—Ç–∫—É –ø–ª–µ–π-–æ—Ñ—Ñ.</p>
          </div>
        </div>
      </div>
      <div id="adminTournamentEdit" style="display:none;">
        <h3>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –¢—É—Ä–Ω—ñ—Ä</h3>
        <div class="admin-edit-options">
          <button id="editGroupStageBtn">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ì—Ä—É–ø–æ–≤–∏–π –ï—Ç–∞–ø</button>
          <button id="viewPlayoffBracketAdminBtn">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –°—ñ—Ç–∫—É –ü–ª–µ–π-–æ—Ñ—Ñ</button>
        </div>
        <div id="groupStageEdit" style="display:none;">
          <h4>–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ì—Ä—É–ø–æ–≤–æ–≥–æ –ï—Ç–∞–ø—É</h4>
          <input type="text" id="teamNameInput" placeholder="–ù–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏">
          <select id="groupSelect">
            <option value="groupA">–ì—Ä—É–ø–∞ A</option>
            <option value="groupB">–ì—Ä—É–ø–∞ B</option>
          </select>
          <button id="addTeamBtn">–î–æ–¥–∞—Ç–∏ –ö–æ–º–∞–Ω–¥—É</button>
          <button id="removeTeamBtn">–í–∏–¥–∞–ª–∏—Ç–∏ –ö–æ–º–∞–Ω–¥—É</button>
          <div id="currentGroupATable">
            <h5>–ì—Ä—É–ø–∞ A (–ø–æ—Ç–æ—á–Ω–∞)</h5>
            <table class="group-table" id="adminGroupATable">
              <thead>
                <tr><th>–ö–æ–º–∞–Ω–¥–∞</th><th>–î—ñ—ó</th></tr>
              </thead>
              <tbody>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Alpha</td><td><button data-team="–ö–æ–º–∞–Ω–¥–∞ Alpha" class="remove-btn">–í–∏–¥–∞–ª–∏—Ç–∏</button></td></tr>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Beta</td><td><button data-team="–ö–æ–º–∞–Ω–¥–∞ Beta" class="remove-btn">–í–∏–¥–∞–ª–∏—Ç–∏</button></td></tr>
              </tbody>
            </table>
          </div>
          <div id="currentGroupBTable">
            <h5>–ì—Ä—É–ø–∞ B (–ø–æ—Ç–æ—á–Ω–∞)</h5>
            <table class="group-table" id="adminGroupBTable">
              <thead>
                <tr><th>–ö–æ–º–∞–Ω–¥–∞</th><th>–î—ñ—ó</th></tr>
              </thead>
              <tbody>
                <tr><td>–ö–æ–º–∞–Ω–¥–∞ Echo</td><td><button data-team="–ö–æ–º–∞–Ω–¥–∞ Echo" class="remove-btn">–í–∏–¥–∞–ª–∏—Ç–∏</button></td></tr>
              </tbody>
            </table>
          </div>
        </div>
        <div id="adminPlayoffBracketView" class="playoff-bracket" style="display:none;">
          <h4>–°—ñ—Ç–∫–∞ –ü–ª–µ–π-–æ—Ñ—Ñ (–ê–¥–º—ñ–Ω)</h4>
          <p>–¢—É—Ç –±—É–¥–µ –∞–¥–º—ñ–Ω-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—ñ—Ç–∫–æ—é –ø–ª–µ–π-–æ—Ñ—Ñ.</p>
          <p>–ë—É–¥—å –ª–∞—Å–∫–∞, –Ω–∞–¥–∞–π—Ç–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—ñ—Ç–∫–∏ –ø–ª–µ–π-–æ—Ñ—Ñ, —ñ —è –∑–º–æ–∂—É —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –π–æ–≥–æ —Ç—É—Ç, –∑–±–µ—Ä—ñ–≥—à–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Ñ–æ–Ω.</p>
        </div>
      </div>
    </div>
  </div>

  <div id="rulesSection" class="section">
    <h2 data-i18n="rules_main_title">–ü—Ä–∞–≤–∏–ª–∞ —Ç—É—Ä–Ω—ñ—Ä—É</h2>
    <details>
      <summary data-i18n="rules_1v1_summary">–¢—É—Ä–Ω—ñ—Ä–∏ 1—Ö1</summary>
      <p data-i18n="rules_1v1_text">‚Ä¢ –ì—Ä–∞–≤—Ü—ñ –≥—Ä–∞—é—Ç—å –æ–¥–∏–Ω –ø—Ä–æ—Ç–∏ –æ–¥–Ω–æ–≥–æ.<br> ‚Ä¢ –†–∞—É–Ω–¥–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å –¥–æ 3 –ø–µ—Ä–µ–º–æ–≥.<br> ‚Ä¢ –ü–µ—Ä–µ–º–∞–≥–∞—î —Ç–æ–π, —Ö—Ç–æ –ø–µ—Ä—à–∏–π –≤–∏–≥—Ä–∞—î 3 —Ä–∞—É–Ω–¥–∏. </p>
    </details>
    <details>
      <summary data-i18n="rules_2v2_summary">–¢—É—Ä–Ω—ñ—Ä–∏ 2—Ö2</summary>
      <p data-i18n="rules_2v2_text">‚Ä¢ –ö–æ–º–∞–Ω–¥–∏ –ø–æ 2 –≥—Ä–∞–≤—Ü—ñ.<br> ‚Ä¢ –£—Å–ø—ñ—Ö –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—ó —Ç–∞ –∑–ª–∞–≥–æ–¥–∂–µ–Ω–æ—ó –≥—Ä–∏.<br> ‚Ä¢ –ü–µ—Ä—à—ñ –¥–æ 5 –ø–µ—Ä–µ–º–æ–≥ ‚Äî –ø—Ä–æ—Ö–æ–¥—è—Ç—å –¥–∞–ª—ñ. </p>
    </details>
    <details>
      <summary data-i18n="rules_5v5_standoff_summary">–ü—Ä–∞–≤–∏–ª–∞ –¢—É—Ä–Ω—ñ—Ä—É –ø–æ Standoff 2 (5 –Ω–∞ 5)</summary>
      <p data-i18n="rules_5v5_standoff_text">‚Ä¢ –ö–æ–º–∞–Ω–¥–∏ –ø–æ 5 –≥—Ä–∞–≤—Ü—ñ–≤.<br> ‚Ä¢ –ì—Ä–∞—é—Ç—å 10 —Ä–∞—É–Ω–¥—ñ–≤.<br> ‚Ä¢ –ü–µ—Ä–µ–º–∞–≥–∞—î –∫–æ–º–∞–Ω–¥–∞, —â–æ –Ω–∞–±—Ä–∞–ª–∞ –±—ñ–ª—å—à–µ —Ä–∞—É–Ω–¥—ñ–≤.<br> ‚Ä¢ –Ø–∫—â–æ —Ä–∞—Ö—É–Ω–æ–∫ 5-5, –≥—Ä–∞—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä–∞—É–Ω–¥. </p>
    </details>
  </div>

  <div id="supportSection" class="section">
    <h2 data-i18n="support_title">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞</h2>
    <p data-i18n="support_description">–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏, –±—É–¥—å –ª–∞—Å–∫–∞, –∑–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏:</p>
    <ul>
      <li data-i18n="support_email">–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞: support@example.com</li>
      <li data-i18n="support_telegram">Telegram: @OurSupportBot</li>
    </ul>
    <p data-i18n="support_faq_prompt">–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –Ω–∞—à —Ä–æ–∑–¥—ñ–ª <a href="#" data-section="rulesSection" data-i18n="faq_link">–ü—Ä–∞–≤–∏–ª–∞ —Ç—É—Ä–Ω—ñ—Ä—É</a> –¥–ª—è —á–∞—Å—Ç–∏—Ö –ø–∏—Ç–∞–Ω—å.</p>
  </div>

  <div class="bottom-nav">
    <div class="nav-item active" data-section="homeSection">
      <span>üè†</span>
      <span data-i18n="home">–ì–æ–ª–æ–≤–Ω–∞</span>
    </div>
    <div class="nav-item" data-section="rulesSection"> <span>üìú</span>
      <span data-i18n="rules_footer_menu_item">–ü—Ä–∞–≤–∏–ª–∞</span>
    </div>
    <div class="nav-item" data-section="awardsSection"> <span>üèÜ</span>
      <span data-i18n="awards">–ù–∞–≥–æ—Ä–æ–¥–∏</span>
    </div>
    <div class="nav-item" data-section="supportSection">
      <span>‚ùì</span>
      <span data-i18n="support">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞</span>
    </div>
  </div>

  <script>
    const i18n = {
      'uk': {
        'register': '–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å',
        'standoff_nick': '–ù—ñ–∫ –≤ Standoff',
        'standoff_id': 'ID –≤ Standoff',
        'tg_user': 'Telegram',
        'done': '–ì–æ—Ç–æ–≤–æ',
        'profile': '–ü—Ä–æ—Ñ—ñ–ª—å –≥—Ä–∞–≤—Ü—è',
        'profile_saved': '–ü—Ä–æ—Ñ—ñ–ª—å –∑–±–µ—Ä–µ–∂–µ–Ω–æ!',
        'create_team': '–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–º–∞–Ω–¥—É',
        'team_avatar': '–ê–≤–∞—Ç–∞—Ä–∫–∞ –∫–æ–º–∞–Ω–¥–∏',
        'team_tag': '–¢–µ–≥ –∫–æ–º–∞–Ω–¥–∏',
        'team_tag_ph': '–í–∞—à —Ç–µ–≥ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, CLAN)',
        'team_name': '–ù–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏',
        'team_name_ph': '–ü–æ–≤–Ω–∞ –Ω–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏',
        'main_player1': '–ì—Ä–∞–≤–µ—Ü—å 1 (–∫–∞–ø—ñ—Ç–∞–Ω)',
        'main_player2': '–ì—Ä–∞–≤–µ—Ü—å 2 (–æ—Å–Ω–æ–≤–Ω–∏–π)',
        'main_player3': '–ì—Ä–∞–≤–µ—Ü—å 3 (–æ—Å–Ω–æ–≤–Ω–∏–π)',
        'main_player4': '–ì—Ä–∞–≤–µ—Ü—å 4 (–æ—Å–Ω–æ–≤–Ω–∏–π)',
        'main_player5': '–ì—Ä–∞–≤–µ—Ü—å 5 (–æ—Å–Ω–æ–≤–Ω–∏–π)',
        'spare_player1': '–ì—Ä–∞–≤–µ—Ü—å 6 (–∑–∞–ø–∞—Å–Ω–∏–π)',
        'spare_player2': '–ì—Ä–∞–≤–µ—Ü—å 7 (–∑–∞–ø–∞—Å–Ω–∏–π)',
        'player_id_ph': 'ID –≤ Standoff 2',
        'player_nick_ph': '–ù—ñ–∫–Ω–µ–π–º',
        'player_tg_ph': 'Telegram',
        'team_done': '–ì–æ—Ç–æ–≤–æ',
        'team_created': '–ö–æ–º–∞–Ω–¥—É —Å—Ç–≤–æ—Ä–µ–Ω–æ!',
        'news': '–ù–æ–≤–∏–Ω–∏',
        'news1title': 'üîî –û–Ω–æ–≤–ª–µ–Ω–Ω—è',
        'news1desc': '–ú–∏ –¥–æ–¥–∞–ª–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤–∏ —Ç–∞ –æ–Ω–æ–≤–∏–ª–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.',
        'news2title': 'üèÜ –¢—É—Ä–Ω—ñ—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–æ',
        'news2desc': '–¢–µ–ø–µ—Ä —É—Å—ñ —Ç—É—Ä–Ω—ñ—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –Ω–∞ –æ–∫—Ä–µ–º—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.',
        'disciplines': '–î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏',
        'tournaments': '–¢—É—Ä–Ω—ñ—Ä–∏',
        'home': '–ì–æ–ª–æ–≤–Ω–∞',
        'awards': '–ù–∞–≥–æ—Ä–æ–¥–∏',
        'support': '–ü—ñ–¥—Ç—Ä–∏–º–∫–∞',
        'rules_main_title': '–ü—Ä–∞–≤–∏–ª–∞ —Ç—É—Ä–Ω—ñ—Ä—É',
        'rules_footer_menu_item': '–ü—Ä–∞–≤–∏–ª–∞', // Added translation key for footer
        'rules_1v1_summary': '–¢—É—Ä–Ω—ñ—Ä–∏ 1—Ö1',
        'rules_1v1_text': '‚Ä¢ –ì—Ä–∞–≤—Ü—ñ –≥—Ä–∞—é—Ç—å –æ–¥–∏–Ω –ø—Ä–æ—Ç–∏ –æ–¥–Ω–æ–≥–æ.<br> ‚Ä¢ –†–∞—É–Ω–¥–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å –¥–æ 3 –ø–µ—Ä–µ–º–æ–≥.<br> ‚Ä¢ –ü–µ—Ä–µ–º–∞–≥–∞—î —Ç–æ–π, —Ö—Ç–æ –ø–µ—Ä—à–∏–π –≤–∏–≥—Ä–∞—î 3 —Ä–∞—É–Ω–¥–∏. ',
        'rules_2v2_summary': '–¢—É—Ä–Ω—ñ—Ä–∏ 2—Ö2',
        'rules_2v2_text': '‚Ä¢ –ö–æ–º–∞–Ω–¥–∏ –ø–æ 2 –≥—Ä–∞–≤—Ü—ñ.<br> ‚Ä¢ –£—Å–ø—ñ—Ö –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—ó —Ç–∞ –∑–ª–∞–≥–æ–¥–∂–µ–Ω–æ—ó –≥—Ä–∏.<br> ‚Ä¢ –ü–µ—Ä—à—ñ –¥–æ 5 –ø–µ—Ä–µ–º–æ–≥ ‚Äî –ø—Ä–æ—Ö–æ–¥—è—Ç—å –¥–∞–ª—ñ. ',
        'rules_5v5_standoff_summary': '–ü—Ä–∞–≤–∏–ª–∞ –¢—É—Ä–Ω—ñ—Ä—É –ø–æ Standoff 2 (5 –Ω–∞ 5)',
        'rules_5v5_standoff_text': '‚Ä¢ –ö–æ–º–∞–Ω–¥–∏ –ø–æ 5 –≥—Ä–∞–≤—Ü—ñ–≤.<br> ‚Ä¢ –ì—Ä–∞—é—Ç—å 10 —Ä–∞—É–Ω–¥—ñ–≤.<br> ‚Ä¢ –ü–µ—Ä–µ–º–∞–≥–∞—î –∫–æ–º–∞–Ω–¥–∞, —â–æ –Ω–∞–±—Ä–∞–ª–∞ –±—ñ–ª—å—à–µ —Ä–∞—É–Ω–¥—ñ–≤.<br> ‚Ä¢ –Ø–∫—â–æ —Ä–∞—Ö—É–Ω–æ–∫ 5-5, –≥—Ä–∞—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä–∞—É–Ω–¥. ',
        'awards_title': '–ù–∞–≥–æ—Ä–æ–¥–∏',
        'tournament_view_title': '–ü–µ—Ä–µ–≥–ª—è–¥ –¢—É—Ä–Ω—ñ—Ä—É',
        'create_tournament_btn': '‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—É—Ä–Ω—ñ—Ä',
        'ban_user': 'üö´ –ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞',
        'unban_user': '‚úÖ –†–æ–∑–±–ª–æ–∫—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞',
        'give_prize': 'üèÜ –í–∏–¥–∞—Ç–∏ –ø—Ä–∏–∑',
        'disqualify_team': '‚ùå –î–∏—Å–∫–≤–∞–ª—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É',
        // 'tournament_menu_btn': 'üèÜ –¢—É—Ä–Ω—ñ—Ä', <-- Removed
        'support_title': '–ü—ñ–¥—Ç—Ä–∏–º–∫–∞',
        'support_description': '–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏, –±—É–¥—å –ª–∞—Å–∫–∞, –∑–≤\'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏:',
        'support_email': '–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞: support@example.com',
        'support_telegram': 'Telegram: @OurSupportBot',
        'support_faq_prompt': '–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –Ω–∞—à —Ä–æ–∑–¥—ñ–ª ',
        'faq_link': '–ü—Ä–∞–≤–∏–ª–∞ —Ç—É—Ä–Ω—ñ—Ä—É',
        'back_to_awards': '‚Üê –ù–∞–≥–æ—Ä–æ–¥–∏',
        'ranking': '–†–µ–π—Ç–∏–Ω–≥'
      },
      'en': {
        'register': 'Register',
        'standoff_nick': 'Standoff Nickname',
        'standoff_id': 'Standoff ID',
        'tg_user': 'Telegram',
        'done': 'Done',
        'profile': 'Player Profile',
        'profile_saved': 'Profile saved!',
        'create_team': 'Create Team',
        'team_avatar': 'Team Avatar',
        'team_tag': 'Team Tag',
        'team_tag_ph': 'Your tag (e.g., CLAN)',
        'team_name': 'Team Name',
        'team_name_ph': 'Full team name',
        'main_player1': 'Player 1 (Captain)',
        'main_player2': 'Player 2 (Main)',
        'main_player3': 'Player 3 (Main)',
        'main_player4': 'Player 4 (Main)',
        'main_player5': 'Player 5 (Main)',
        'spare_player1': 'Player 6 (Substitute)',
        'spare_player2': 'Player 7 (Substitute)',
        'player_id_ph': 'Standoff 2 ID',
        'player_nick_ph': 'Nickname',
        'player_tg_ph': 'Telegram',
        'team_done': 'Done',
        'team_created': 'Team created!',
        'news': 'News',
        'news1title': 'üîî Update',
        'news1desc': 'We have added English language support and updated the interface.',
        'news2title': 'üèÜ Tournaments Updated',
        'news2desc': 'All tournaments are now available on a separate page.',
        'disciplines': 'Disciplines',
        'tournaments': 'Tournaments',
        'home': 'Home',
        'awards': 'Awards',
        'support': 'Support',
        'rules_main_title': 'Tournament Rules',
        'rules_footer_menu_item': 'Rules', // Added translation key for footer
        'rules_1v1_summary': '1v1 Tournaments',
        'rules_1v1_text': '‚Ä¢ Players play against each other.<br> ‚Ä¢ Rounds are played until 3 wins.<br> ‚Ä¢ The first to win 3 rounds wins. ',
        'rules_2v2_summary': '2v2 Tournaments',
        'rules_2v2_text': '‚Ä¢ Teams of 2 players.<br> ‚Ä¢ Success depends on coordination and coherent play.<br> ‚Ä¢ First to 5 wins ‚Äî proceed further. ',
        'rules_5v5_standoff_summary': 'Standoff 2 Tournament Rules (5 vs 5)',
        'rules_5v5_standoff_text': '‚Ä¢ Teams of 5 players.<br> ‚Ä¢ 10 rounds are played.<br> ‚Ä¢ The team with more rounds wins.<br> ‚Ä¢ If the score is 5-5, an extra round is played. ',
        'awards_title': 'Awards',
        'tournament_view_title': 'Tournament View',
        'create_tournament_btn': '‚ûï Create Tournament',
        'ban_user': 'üö´ Ban User',
        'unban_user': '‚úÖ Unban User',
        'give_prize': 'üèÜ Give Prize',
        'disqualify_team': '‚ùå Disqualify Team',
        // 'tournament_menu_btn': 'üèÜ Tournament', <-- Removed
        'support_title': 'Support',
        'support_description': 'If you have any questions or problems, please contact us:',
        'support_email': 'Email: support@example.com',
        'support_telegram': 'Telegram: @OurSupportBot',
        'support_faq_prompt': 'You can also check our ',
        'faq_link': 'Tournament Rules',
        'back_to_awards': '‚Üê Awards',
        'ranking': 'Ranking'
      },
      'ru': {
        'register': '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è',
        'standoff_nick': '–ù–∏–∫ –≤ Standoff',
        'standoff_id': 'ID –≤ Standoff',
        'tg_user': 'Telegram',
        'done': '–ì–æ—Ç–æ–≤–æ',
        'profile': '–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞',
        'profile_saved': '–ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω!',
        'create_team': '–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É',
        'team_avatar': '–ê–≤–∞—Ç–∞—Ä–∫–∞ –∫–æ–º–∞–Ω–¥—ã',
        'team_tag': '–¢–µ–≥ –∫–æ–º–∞–Ω–¥—ã',
        'team_tag_ph': '–í–∞—à —Ç–µ–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, CLAN)',
        'team_name': '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã',
        'team_name_ph': '–ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã',
        'main_player1': '–ò–≥—Ä–æ–∫ 1 (–∫–∞–ø–∏—Ç–∞–Ω)',
        'main_player2': '–ò–≥—Ä–æ–∫ 2 (–æ—Å–Ω–æ–≤–Ω–æ–π)',
        'main_player3': '–ò–≥—Ä–æ–∫ 3 (–æ—Å–Ω–æ–≤–Ω–æ–π)',
        'main_player4': '–ò–≥—Ä–æ–∫ 4 (–æ—Å–Ω–æ–≤–Ω–æ–π)',
        'main_player5': '–ò–≥—Ä–æ–∫ 5 (–æ—Å–Ω–æ–≤–Ω–æ–π)',
        'spare_player1': '–ò–≥—Ä–æ–∫ 6 (–∑–∞–ø–∞—Å–Ω–æ–π)',
        'spare_player2': '–ò–≥—Ä–æ–∫ 7 (–∑–∞–ø–∞—Å–Ω–æ–π)',
        'player_id_ph': 'ID –≤ Standoff 2',
        'player_nick_ph': '–ù–∏–∫–Ω–µ–π–º',
        'player_tg_ph': 'Telegram',
        'team_done': '–ì–æ—Ç–æ–≤–æ',
        'team_created': '–ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–Ω–∞!',
        'news': '–ù–æ–≤–æ—Å—Ç–∏',
        'news1title': 'üîî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ',
        'news1desc': '–ú—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –∏ –æ–±–Ω–æ–≤–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.',
        'news2title': 'üèÜ –¢—É—Ä–Ω–∏—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã',
        'news2desc': '–¢–µ–ø–µ—Ä—å –≤—Å–µ —Ç—É—Ä–Ω–∏—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.',
        'disciplines': '–î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã',
        'tournaments': '–¢—É—Ä–Ω–∏—Ä—ã',
        'home': '–ì–ª–∞–≤–Ω–∞—è',
        'awards': '–ù–∞–≥—Ä–∞–¥—ã',
        'support': '–ü–æ–¥–¥–µ—Ä–∂–∫–∞',
        'rules_main_title': '–ü—Ä–∞–≤–∏–ª–∞ —Ç—É—Ä–Ω–∏—Ä–∞',
        'rules_footer_menu_item': '–ü—Ä–∞–≤–∏–ª–∞', // Added translation key for footer
        'rules_1v1_summary': '–¢—É—Ä–Ω–∏—Ä—ã 1—Ö1',
        'rules_1v1_text': '‚Ä¢ –ò–≥—Ä–æ–∫–∏ –∏–≥—Ä–∞—é—Ç –æ–¥–∏–Ω –ø—Ä–æ—Ç–∏–≤ –¥—Ä—É–≥–æ–≥–æ.<br> ‚Ä¢ –†–∞—É–Ω–¥—ã –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è –¥–æ 3 –ø–æ–±–µ–¥.<br> ‚Ä¢ –ü–æ–±–µ–∂–¥–∞–µ—Ç —Ç–æ—Ç, –∫—Ç–æ –ø–µ—Ä–≤—ã–º –≤—ã–∏–≥—Ä–∞–µ—Ç 3 —Ä–∞—É–Ω–¥–∞. ',
        'rules_2v2_summary': '–¢—É—Ä–Ω–∏—Ä—ã 2—Ö2',
        'rules_2v2_text': '‚Ä¢ –ö–æ–º–∞–Ω–¥—ã –ø–æ 2 –∏–≥—Ä–æ–∫–∞.<br> ‚Ä¢ –£—Å–ø–µ—Ö –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –∏ —Å–ª–∞–∂–µ–Ω–Ω–æ–π –∏–≥—Ä—ã.<br> ‚Ä¢ –ü–µ—Ä–≤—ã–µ –¥–æ 5 –ø–æ–±–µ–¥ ‚Äî –ø—Ä–æ—Ö–æ–¥—è—Ç –¥–∞–ª—å—à–µ. ',
        'rules_5v5_standoff_summary': '–ü—Ä–∞–≤–∏–ª–∞ –¢—É—Ä–Ω–∏—Ä–∞ –ø–æ Standoff 2 (5 –Ω–∞ 5)',
        'rules_5v5_standoff_text': '‚Ä¢ –ö–æ–º–∞–Ω–¥—ã –ø–æ 5 –∏–≥—Ä–æ–∫–æ–≤.<br> ‚Ä¢ –ò–≥—Ä–∞—é—Ç 10 —Ä–∞—É–Ω–¥–æ–≤.<br> ‚Ä¢ –ü–æ–±–µ–∂–¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞, –Ω–∞–±—Ä–∞–≤—à–∞—è –±–æ–ª—å—à–µ —Ä–∞—É–Ω–¥–æ–≤.<br> ‚Ä¢ –ï—Å–ª–∏ —Å—á–µ—Ç 5-5, –∏–≥—Ä–∞–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—É–Ω–¥. ',
        'awards_title': '–ù–∞–≥—Ä–∞–¥—ã',
        'tournament_view_title': '–ü—Ä–æ—Å–º–æ—Ç—Ä –¢—É—Ä–Ω–∏—Ä–∞',
        'create_tournament_btn': '‚ûï –°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä',
        'ban_user': 'üö´ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
        'unban_user': '‚úÖ –†–∞–∑–±–ª–æ—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
        'give_prize': 'üèÜ –í—ã–¥–∞—Ç—å –ø—Ä–∏–∑',
        'disqualify_team': '‚ùå –î–∏—Å–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É',
        // 'tournament_menu_btn': 'üèÜ –¢—É—Ä–Ω–∏—Ä', <-- Removed
        'support_title': '–ü–æ–¥–¥–µ—Ä–∂–∫–∞',
        'support_description': '–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏:',
        'support_email': '–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞: support@example.com',
        'support_telegram': 'Telegram: @OurSupportBot',
        'support_faq_prompt': '–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞—à —Ä–∞–∑–¥–µ–ª ',
        'faq_link': '–ü—Ä–∞–≤–∏–ª–∞ —Ç—É—Ä–Ω–∏—Ä–∞',
        'back_to_awards': '‚Üê –ù–∞–≥—Ä–∞–¥—ã',
        'ranking': '–†–µ–π—Ç–∏–Ω–≥'
      },
      'pl': {
        'register': 'Zarejestruj siƒô',
        'standoff_nick': 'Pseudonim w Standoff',
        'standoff_id': 'ID w Standoff',
        'tg_user': 'Telegram',
        'done': 'Gotowe',
        'profile': 'Profil gracza',
        'profile_saved': 'Profil zapisany!',
        'create_team': 'Utw√≥rz dru≈ºynƒô',
        'team_avatar': 'Awatar dru≈ºyny',
        'team_tag': 'Tag dru≈ºyny',
        'team_tag_ph': 'Tw√≥j tag (np. CLAN)',
        'team_name': 'Nazwa dru≈ºyny',
        'team_name_ph': 'Pe≈Çna nazwa dru≈ºyny',
        'main_player1': 'Gracz 1 (Kapitan)',
        'main_player2': 'Gracz 2 (G≈Ç√≥wny)',
        'main_player3': 'Gracz 3 (G≈Ç√≥wny)',
        'main_player4': 'Gracz 4 (G≈Ç√≥wny)',
        'main_player5': 'Gracz 5 (G≈Ç√≥wny)',
        'spare_player1': 'Gracz 6 (Zapasowy)',
        'spare_player2': 'Gracz 7 (Zapasowy)',
        'player_id_ph': 'ID w Standoff 2',
        'player_nick_ph': 'Pseudonim',
        'player_tg_ph': 'Telegram',
        'team_done': 'Gotowe',
        'team_created': 'Dru≈ºyna utworzona!',
        'news': 'Aktualno≈õci',
        'news1title': 'üîî Aktualizacja',
        'news1desc': 'Dodali≈õmy obs≈Çugƒô jƒôzyka angielskiego i zaktualizowali≈õmy interfejs.',
        'news2title': 'üèÜ Turnieje zaktualizowane',
        'news2desc': 'Wszystkie turnieje sƒÖ teraz dostƒôpne na osobnej stronie.',
        'disciplines': 'Dyscypliny',
        'tournaments': 'Turnieje',
        'home': 'Strona g≈Ç√≥wna',
        'awards': 'Nagrody',
        'support': 'Wsparcie',
        'rules_main_title': 'Zasady turnieju',
        'rules_footer_menu_item': 'Zasady', // Added translation key for footer
        'rules_1v1_summary': 'Turnieje 1 na 1',
        'rules_1v1_text': '‚Ä¢ Gracze grajƒÖ jeden przeciwko drugiemu.<br> ‚Ä¢ Rundy rozgrywane sƒÖ do 3 zwyciƒôstw.<br> ‚Ä¢ Wygrywa ten, kto pierwszy wygra 3 rundy. ',
        'rules_2v2_summary': 'Turnieje 2 na 2',
        'rules_2v2_text': '‚Ä¢ Dru≈ºyny po 2 graczy.<br> ‚Ä¢ Sukces zale≈ºy od koordynacji i zgranej gry.<br> ‚Ä¢ Pierwsi, kt√≥rzy zdobƒôdƒÖ 5 zwyciƒôstw ‚Äî przechodzƒÖ dalej. ',
        'rules_5v5_standoff_summary': 'Zasady Turnieju Standoff 2 (5 na 5)',
        'rules_5v5_standoff_text': '‚Ä¢ Dru≈ºyny po 5 graczy.<br> ‚Ä¢ Rozegranych jest 10 rund.<br> ‚Ä¢ Zwyciƒô≈ºa dru≈ºyna, kt√≥ra zdobƒôdzie wiƒôcej rund.<br> ‚Ä¢ Je≈õli wynik to 5-5, rozgrywana jest dodatkowa runda. ',
        'awards_title': 'Nagrody',
        'tournament_view_title': 'Widok Turnieju',
        'create_tournament_btn': '‚ûï Utw√≥rz turniej',
        'ban_user': 'üö´ Zablokuj u≈ºytkownika',
        'unban_user': '‚úÖ Odblokuj u≈ºytkownika',
        'give_prize': 'üèÜ Przyznaj nagrodƒô',
        'disqualify_team': '‚ùå Zdyskwalifikuj dru≈ºynƒô',
        // 'tournament_menu_btn': 'üèÜ Turniej', <-- Removed
        'support_title': 'Wsparcie',
        'support_description': 'Je≈õli masz pytania lub problemy, skontaktuj siƒô z nami:',
        'support_email': 'Email: support@example.com',
        'support_telegram': 'Telegram: @OurSupportBot',
        'support_faq_prompt': 'Mo≈ºesz r√≥wnie≈º sprawdziƒá naszƒÖ sekcjƒô ',
        'faq_link': 'Zasady turnieju',
        'back_to_awards': '‚Üê Nagrody',
        'ranking': 'Ranking'
      }
    };

    let currentLanguage = localStorage.getItem('language') || 'uk';
    const langBtn = document.getElementById('langBtn');
    const langPopup = document.getElementById('langPopup');
    const langOptions = document.querySelectorAll('.lang-option');

    function applyLanguage(lang) {
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (i18n[lang] && i18n[lang][key]) {
          element.textContent = i18n[lang][key];
        }
      });
      document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (i18n[lang] && i18n[lang][key]) {
          element.placeholder = i18n[lang][key];
        }
      });
      // Special handling for the FAQ link in support section
      const faqLinkElement = document.querySelector('#supportSection [data-i18n="faq_link"]');
      if (faqLinkElement) {
        const supportFaqPromptElement = faqLinkElement.parentNode;
        const promptKey = 'support_faq_prompt'; // The key for the prompt text
        if (i18n[lang] && i18n[lang][promptKey]) {
          supportFaqPromptElement.innerHTML = i18n[lang][promptKey] + `<a href="#" data-section="rulesSection" data-i18n="faq_link">${i18n[lang]['faq_link']}</a>.`;
        }
      }
      currentLanguage = lang;
      localStorage.setItem('language', lang);
    }

    langBtn.addEventListener('click', (event) => {
      langPopup.classList.toggle('active');
      event.stopPropagation();
    });

    langOptions.forEach(option => {
      option.addEventListener('click', () => {
        applyLanguage(option.dataset.lang);
        langPopup.classList.remove('active');
      });
    });

    document.addEventListener('click', (event) => {
      if (!langPopup.contains(event.target) && event.target !== langBtn) {
        langPopup.classList.remove('active');
      }
    });

    const avatar = document.getElementById('avatar');
    const profilePopup = document.getElementById('profilePopup');
    const registerBtn = document.getElementById('registerBtn');
    const profileForm = document.getElementById('profileForm');
    const doneBtn = document.getElementById('doneBtn');
    const playerProfile = document.getElementById('playerProfile');
    const standoffNickInput = document.getElementById('standoffNick');
    const standoffIdInput = document.getElementById('standoffId');
    const tgUserInput = document.getElementById('tgUser');
    const profileNick = document.getElementById('profileNick');
    const profileId = document.getElementById('profileId');
    const profileTg = document.getElementById('profileTg');
    const successMsg = document.getElementById('successMsg');
    const createTeamBtn = document.getElementById('createTeamBtn');
    const teamForm = document.getElementById('teamForm');
    const teamSuccessMsg = document.getElementById('teamSuccessMsg');
    const teamDoneBtn = document.getElementById('teamDoneBtn');

    // Simulate Telegram WebApp user data
    // In a real Telegram WebApp, this data would come from window.Telegram.WebApp.initDataUnsafe.user
    const tgWebAppUser = {
      id: '123456789',
      first_name: 'John',
      last_name: 'Doe',
      username: 'johndoe',
      language_code: 'en'
    };

    function updateProfileDisplay() {
      const savedProfile = JSON.parse(localStorage.getItem('userProfile'));
      if (savedProfile) {
        registerBtn.style.display = 'none';
        profileForm.style.display = 'none';
        playerProfile.style.display = 'block';
        createTeamBtn.style.display = 'block';

        profileNick.textContent = savedProfile.standoffNick;
        profileId.textContent = savedProfile.standoffId;
        profileTg.textContent = savedProfile.tgUser;

        // Populate team player 1 (captain) fields with saved profile data
        document.getElementById('main1Id').value = savedProfile.standoffId;
        document.getElementById('main1Nick').value = savedProfile.standoffNick;
        document.getElementById('main1Tg').value = savedProfile.tgUser;

      } else {
        registerBtn.style.display = 'block';
        playerProfile.style.display = 'none';
        createTeamBtn.style.display = 'none';
        teamForm.style.display = 'none';
      }
      tgUserInput.value = tgWebAppUser.username ? `@${tgWebAppUser.username}` : `${tgWebAppUser.first_name} ${tgWebAppUser.last_name || ''}`;
    }

    avatar.addEventListener('click', (event) => {
      profilePopup.classList.toggle('active');
      event.stopPropagation();
    });

    document.addEventListener('click', (event) => {
      if (!profilePopup.contains(event.target) && event.target !== avatar && event.target !== registerBtn && event.target !== doneBtn && event.target !== createTeamBtn && event.target !== teamDoneBtn) {
        profilePopup.classList.remove('active');
        profileForm.style.display = 'none';
        teamForm.style.display = 'none';
        updateProfileDisplay();
      }
    });

    registerBtn.addEventListener('click', () => {
      profilePopup.classList.add('active');
      registerBtn.style.display = 'none';
      playerProfile.style.display = 'none';
      createTeamBtn.style.display = 'none';
      teamForm.style.display = 'none';
      profileForm.style.display = 'flex';
      tgUserInput.value = tgWebAppUser.username ? `@${tgWebAppUser.username}` : `${tgWebAppUser.first_name} ${tgWebAppUser.last_name || ''}`;
    });

    profileForm.addEventListener('submit', (event) => {
      event.preventDefault();
      const userProfile = {
        standoffNick: standoffNickInput.value,
        standoffId: standoffIdInput.value,
        tgUser: tgUserInput.value
      };
      localStorage.setItem('userProfile', JSON.stringify(userProfile));
      updateProfileDisplay();
      profileForm.style.display = 'none';
      profilePopup.classList.remove('active');
      successMsg.style.display = 'block';
      setTimeout(() => successMsg.style.display = 'none', 3000);
    });

    createTeamBtn.addEventListener('click', () => {
      createTeamBtn.style.display = 'none';
      playerProfile.style.display = 'none';
      teamForm.style.display = 'flex';
      profilePopup.classList.add('active'); // Ensure popup is active
    });

    const teamAvatarInput = document.getElementById('teamAvatar');
    const teamAvatarPreview = document.getElementById('teamAvatarPreview');
    teamAvatarInput.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = (e) => {
          teamAvatarPreview.src = e.target.result;
          teamAvatarPreview.style.display = 'block';
        };
        reader.readAsDataURL(file);
      } else {
        teamAvatarPreview.style.display = 'none';
        teamAvatarPreview.src = '#';
      }
    });

    teamForm.addEventListener('submit', (event) => {
      event.preventDefault();
      // In a real app, you'd send this data to a backend
      alert('–ö–æ–º–∞–Ω–¥—É —Å—Ç–≤–æ—Ä–µ–Ω–æ!'); // Consider using a more user-friendly modal
      teamSuccessMsg.style.display = 'block';
      setTimeout(() => teamSuccessMsg.style.display = 'none', 3000);

      teamForm.style.display = 'none';
      profilePopup.classList.remove('active');
      updateProfileDisplay(); // Show profile again
    });

    // Notification functionality
    const notificationBtn = document.getElementById('notificationBtn');
    const notificationPopup = document.getElementById('notificationPopup');
    const notificationBadge = document.getElementById('notificationBadge');
    const notificationList = document.getElementById('notificationList');
    const clearNotificationsBtn = document.getElementById('clearNotificationsBtn');

    let notifications = JSON.parse(localStorage.getItem('notifications')) || [];

    function saveNotifications() {
      localStorage.setItem('notifications', JSON.stringify(notifications));
    }

    function showNotificationBadge() {
      const unreadCount = notifications.filter(n => !n.read).length;
      if (unreadCount > 0) {
        notificationBadge.textContent = unreadCount;
        notificationBadge.style.display = 'flex';
      } else {
        notificationBadge.style.display = 'none';
      }
    }

    function renderNotifications() {
      notificationList.innerHTML = '';
      if (notifications.length === 0) {
        const noNotif = document.createElement('p');
        noNotif.textContent = currentLanguage === 'uk' ? '–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î —Å–ø–æ–≤—ñ—â–µ–Ω—å.' : (currentLanguage === 'en' ? 'No notifications yet.' : '–ü–æ–∫–∞ –Ω–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.');
        noNotif.style.color = '#aaa';
        noNotif.style.textAlign = 'center';
        notificationList.appendChild(noNotif);
        clearNotificationsBtn.style.display = 'none';
      } else {
        notifications.forEach((notif, index) => {
          const notifItem = document.createElement('div');
          notifItem.className = 'notification-item';
          notifItem.style.background = notif.read ? '#292929' : '#3a3a3a';
          notifItem.style.padding = '10px';
          notifItem.style.marginBottom = '8px';
          notifItem.style.borderRadius = '8px';
          notifItem.style.border = notif.read ? '1px solid #444' : '1px solid #00bfae';
          notifItem.style.cursor = 'pointer';
          notifItem.innerHTML = `
            <div style="font-weight:bold; color:${notif.read ? '#ccc' : '#fff'};">${notif.title}</div>
            <div style="font-size:0.9rem; color:${notif.read ? '#aaa' : '#bbb'};">${notif.message}</div>
            <div style="font-size:0.75rem; color:#666; text-align:right;">${notif.time}</div>
          `;
          notifItem.addEventListener('click', () => {
            notifications[index].read = true;
            saveNotifications();
            renderNotifications();
            showNotificationBadge();
          });
          notificationList.appendChild(notifItem);
        });
        clearNotificationsBtn.style.display = 'block';
      }
    }

    notificationBtn.addEventListener('click', (event) => {
      notificationPopup.classList.toggle('active');
      renderNotifications();
      event.stopPropagation();
    });

    document.addEventListener('click', (event) => {
      if (!notificationPopup.contains(event.target) && event.target !== notificationBtn) {
        notificationPopup.classList.remove('active');
      }
    });

    clearNotificationsBtn.addEventListener('click', () => {
      notifications = [];
      saveNotifications();
      renderNotifications();
      showNotificationBadge();
    });

    // Simulate adding a new notification
    // setInterval(() => {
    //   const newNotif = {
    //     title: '–ù–æ–≤–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è!',
    //     message: '–¶–µ —Ç–µ—Å—Ç–æ–≤–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è.',
    //     time: new Date().toLocaleTimeString(),
    //     read: false
    //   };
    //   notifications.push(newNotif);
    //   saveNotifications();
    //   showNotificationBadge();
    //   if (notificationPopup.classList.contains('active')) {
    //     renderNotifications();
    //   }
    // }, 30000); // Add a new notification every 30 seconds for testing

    // Admin menu functionality
    const adminMenuBtn = document.getElementById('adminMenuBtn');
    const adminPopup = document.getElementById('adminPopup');
    const createTournamentAdminBtn = document.getElementById('createTournamentAdminBtn');
    const banUserBtn = document.getElementById('banUserBtn');
    const unbanUserBtn = document.getElementById('unbanUserBtn');
    const givePrizeBtn = document.getElementById('givePrizeBtn');
    const disqualifyTeamBtn = document.getElementById('disqualifyTeamBtn');
    // const tournamentMenuBtn = document.getElementById('tournamentMenuBtn'); // Removed
    const closeAdminModal = document.getElementById('closeAdminModal');

    // Simulate admin status (can be toggled for testing)
    let isAdmin = true; // Set to true for testing admin view, false for user view

    adminMenuBtn.addEventListener('click', (event) => {
      adminPopup.classList.toggle('active');
      event.stopPropagation();
    });

    document.addEventListener('click', (event) => {
      if (!adminPopup.contains(event.target) && event.target !== adminMenuBtn) {
        adminPopup.classList.remove('active');
      }
    });

    // Tournament creation modal (from previous interactions)
    const createTournamentModal = document.createElement('div');
    createTournamentModal.className = 'modal';
    createTournamentModal.innerHTML = `
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>–°—Ç–≤–æ—Ä–∏—Ç–∏ –¢—É—Ä–Ω—ñ—Ä</h2>
        <form id="tournamentForm">
          <div class="form-group">
            <label for="tournamentName">–ù–∞–∑–≤–∞ –¢—É—Ä–Ω—ñ—Ä—É</label>
            <input type="text" id="tournamentName" required>
          </div>
          <div class="form-group">
            <label for="tournamentDiscipline">–î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∞</label>
            <select id="tournamentDiscipline" required>
              <option value="standoff2">Standoff 2</option>
              </select>
          </div>
          <div class="form-group">
            <label for="tournamentFormat">–§–æ—Ä–º–∞—Ç</label>
            <select id="tournamentFormat" required>
              <option value="1v1">1v1</option>
              <option value="2v2">2v2</option>
              <option value="5v5">5v5</option>
            </select>
          </div>
          <div class="form-group">
            <label for="startDate">–î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É</label>
            <input type="date" id="startDate" required>
          </div>
          <div class="form-group">
            <label for="endDate">–î–∞—Ç–∞ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è</label>
            <input type="date" id="endDate" required>
          </div>
          <div class="form-group">
            <label for="prizePool">–ü—Ä–∏–∑–æ–≤–∏–π –§–æ–Ω–¥</label>
            <input type="number" id="prizePool" min="0" value="0" required>
          </div>
          <div class="form-group">
            <label for="description">–û–ø–∏—Å</label>
            <textarea id="description" rows="4"></textarea>
          </div>
          <button type="submit" class="submit-btn">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
        </form>
      </div>
    `;
    document.body.appendChild(createTournamentModal);

    const tournamentForm = createTournamentModal.querySelector('#tournamentForm');
    const closeTournamentModalBtn = createTournamentModal.querySelector('.close-button');

    createTournamentAdminBtn.addEventListener('click', () => {
      createTournamentModal.style.display = 'block';
    });

    closeTournamentModalBtn.addEventListener('click', () => {
      createTournamentModal.style.display = 'none';
    });

    tournamentForm.addEventListener('submit', (event) => {
      event.preventDefault();
      const formData = {
        name: document.getElementById('tournamentName').value,
        discipline: document.getElementById('tournamentDiscipline').value,
        format: document.getElementById('tournamentFormat').value,
        startDate: document.getElementById('startDate').value,
        endDate: document.getElementById('endDate').value,
        prizePool: document.getElementById('prizePool').value,
        description: document.getElementById('description').value,
      };
      console.log('Tournament Created:', formData);
      alert('–¢—É—Ä–Ω—ñ—Ä —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ!'); // Replace with a nicer confirmation
      createTournamentModal.style.display = 'none';
      tournamentForm.reset(); // Clear the form
    });

    // Global click listener to close modals/popups if clicked outside
    window.addEventListener('click', (event) => {
      if (event.target === createTournamentModal) {
        createTournamentModal.style.display = 'none';
      }
    });

    // Tournament view and admin edit functionality (from previous interactions)
    const groupStageDropdown = document.getElementById('groupStageDropdown');
    const groupATable = document.getElementById('groupATable');
    const groupBTable = document.getElementById('groupBTable');
    const playoffDropdown = document.getElementById('playoffDropdown');
    const playoffBracketView = document.getElementById('playoffBracketView');
    const userTournamentView = document.getElementById('userTournamentView');
    const adminTournamentEdit = document.getElementById('adminTournamentEdit');
    const editGroupStageBtn = document.getElementById('editGroupStageBtn');
    const viewPlayoffBracketAdminBtn = document.getElementById('viewPlayoffBracketAdminBtn');
    const groupStageEdit = document.getElementById('groupStageEdit');
    const adminPlayoffBracketView = document.getElementById('adminPlayoffBracketView');
    const addTeamBtn = document.getElementById('addTeamBtn');
    const removeTeamBtn = document.getElementById('removeTeamBtn');
    const teamNameInput = document.getElementById('teamNameInput');
    const groupSelect = document.getElementById('groupSelect');
    const adminGroupATable = document.getElementById('adminGroupATable');
    const adminGroupBTable = document.getElementById('adminGroupBTable');

    // Dummy data for teams (can be extended)
    let teams = {
      groupA: [{name: '–ö–æ–º–∞–Ω–¥–∞ Alpha'}, {name: '–ö–æ–º–∞–Ω–¥–∞ Beta'}],
      groupB: [{name: '–ö–æ–º–∞–Ω–¥–∞ Echo'}],
    };

    function renderAdminGroupTables() {
      function renderTable(tableElement, groupName) {
        tableElement.querySelector('tbody').innerHTML = '';
        teams[groupName].forEach(team => {
          const row = tableElement.querySelector('tbody').insertRow();
          row.insertCell(0).textContent = team.name;
          const actionsCell = row.insertCell(1);
          const deleteBtn = document.createElement('button');
          deleteBtn.textContent = '–í–∏–¥–∞–ª–∏—Ç–∏';
          deleteBtn.className = 'remove-btn';
          deleteBtn.dataset.team = team.name;
          deleteBtn.addEventListener('click', (e) => {
            const teamToRemove = e.target.dataset.team;
            teams[groupName] = teams[groupName].filter(t => t.name !== teamToRemove);
            saveTeams();
            renderAdminGroupTables();
          });
          actionsCell.appendChild(deleteBtn);
        });
      }
      renderTable(adminGroupATable, 'groupA');
      renderTable(adminGroupBTable, 'groupB');
    }

    function saveTeams() {
      localStorage.setItem('teams', JSON.stringify(teams));
    }

    function loadTeams() {
      const savedTeams = localStorage.getItem('teams');
      if (savedTeams) {
        teams = JSON.parse(savedTeams);
      }
    }

    addTeamBtn.addEventListener('click', () => {
      const teamName = teamNameInput.value.trim();
      const group = groupSelect.value;
      if (teamName && group) {
        if (!teams[group].some(t => t.name === teamName)) {
          teams[group].push({name: teamName});
          saveTeams();
          renderAdminGroupTables();
          teamNameInput.value = '';
        } else {
          alert('–ö–æ–º–∞–Ω–¥–∞ –∑ —Ç–∞–∫–∏–º —ñ–º\'—è–º –≤–∂–µ —ñ—Å–Ω—É—î –≤ —Ü—ñ–π –≥—Ä—É–ø—ñ!');
        }
      } else {
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ –≤–∏–±–µ—Ä—ñ—Ç—å –≥—Ä—É–ø—É.');
      }
    });

    // Removed tournamentMenuBtn click event listener


    editGroupStageBtn.addEventListener('click', () => {
      groupStageEdit.style.display = 'block';
      adminPlayoffBracketView.style.display = 'none';
      renderAdminGroupTables();
    });

    viewPlayoffBracketAdminBtn.addEventListener('click', () => {
      groupStageEdit.style.display = 'none';
      adminPlayoffBracketView.style.display = 'block';
      // Here you would dynamically generate or load the playoff bracket image/content
      adminPlayoffBracketView.innerHTML = `
        <h4>–°—ñ—Ç–∫–∞ –ü–ª–µ–π-–æ—Ñ—Ñ (–ê–¥–º—ñ–Ω)</h4>
        <p>–¢—É—Ç –±—É–¥–µ –∞–¥–º—ñ–Ω-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—ñ—Ç–∫–æ—é –ø–ª–µ–π-–æ—Ñ—Ñ.</p>
        <p>–ë—É–¥—å –ª–∞—Å–∫–∞, –Ω–∞–¥–∞–π—Ç–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—ñ—Ç–∫–∏ –ø–ª–µ–π-–æ—Ñ—Ñ, —ñ —è –∑–º–æ–∂—É —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –π–æ–≥–æ —Ç—É—Ç, –∑–±–µ—Ä—ñ–≥—à–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Ñ–æ–Ω.</p>
        <img src="playoff_bracket_placeholder.png" alt="Playoff Bracket Placeholder" style="max-width:100%; height:auto; display:block; margin: 0 auto; border-radius:8px; border:1px solid #00bfae;">
      `;
    });

    groupStageDropdown.addEventListener('change', () => {
      const selectedGroup = groupStageDropdown.value;
      groupATable.style.display = 'none';
      groupBTable.style.display = 'none';
      if (selectedGroup === 'groupA') {
        groupATable.style.display = 'block';
      } else if (selectedGroup === 'groupB') {
        groupBTable.style.display = 'block';
      }
    });

    playoffDropdown.addEventListener('change', () => {
      const selectedPlayoffStage = playoffDropdown.value;
      playoffBracketView.style.display = 'none';
      if (selectedPlayoffStage === 'playoffBracket') {
        playoffBracketView.style.display = 'block';
        // Placeholder for playoff bracket image
        playoffBracketView.innerHTML = `
          <h3>–°—ñ—Ç–∫–∞ –ø–ª–µ–π-–æ—Ñ—Ñ</h3>
          <p>–¢—É—Ç –±—É–¥–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–æ —Å—ñ—Ç–∫—É –ø–ª–µ–π-–æ—Ñ—Ñ.</p>
          <img src="playoff_bracket_placeholder.png" alt="Playoff Bracket Placeholder" style="max-width:100%; height:auto; display:block; margin: 0 auto; border-radius:8px; border:1px solid #00bfae;">
        `;
      }
    });


    // Section management
    const sections = document.querySelectorAll('.section');
    const navItems = document.querySelectorAll('.nav-item');

    function showSection(sectionId) {
      sections.forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(sectionId).classList.add('active');

      navItems.forEach(item => {
        item.classList.remove('active');
        if (item.dataset.section === sectionId) {
          item.classList.add('active');
        }
        // Keep "Awards" nav item active if on tournamentDetailsSection
        if (sectionId === 'tournamentDetailsSection' && item.dataset.section === 'awardsSection') {
          item.classList.add('active');
        }
      });
    }

    // Awards section functionality
    const awardsList = document.getElementById('awardsList');
    const awardsSection = document.getElementById('awardsSection');
    const tournamentDetailsSection = document.createElement('div');
    tournamentDetailsSection.id = 'tournamentDetailsSection';
    tournamentDetailsSection.className = 'section'; // ADDED 'section' class
    tournamentDetailsSection.innerHTML = `
      <button id="backToAwardsBtn" class="back-btn" data-i18n="back_to_awards">‚Üê –ù–∞–≥–æ—Ä–æ–¥–∏</button>
      <h2 id="tournamentDetailsTitle"></h2>
      <p id="tournamentDetailsDescription"></p>
      <h3 data-i18n="ranking">–†–µ–π—Ç–∏–Ω–≥</h3>
      <table class="ranking-table">
        <thead>
          <tr>
            <th>–ú—ñ—Å—Ü–µ</th>
            <th>–ö–æ–º–∞–Ω–¥–∞/–ì—Ä–∞–≤–µ—Ü—å</th>
            <th>–ù–∞–≥–æ—Ä–æ–¥–∞</th>
          </tr>
        </thead>
        <tbody id="tournamentRankingBody">
          </tbody>
      </table>
    `;
    document.body.appendChild(tournamentDetailsSection);

    const backToAwardsBtn = document.getElementById('backToAwardsBtn');

    // Dummy awards data
    const awardsData = [
      {
        id: 'grandPrix2024',
        icon: 'üèÜ',
        title: 'RFORZ Grand Prix 2024 –ß–µ–º–ø—ñ–æ–Ω',
        tournamentName: 'RFORZ Grand Prix 2024',
        description: '–ü–µ—Ä–µ–º–æ–≥–∞ —É –≥–æ–ª–æ–≤–Ω–æ–º—É —Ç—É—Ä–Ω—ñ—Ä—ñ —Ä–æ–∫—É.',
        ranking: [
          { place: 1, name: '–ö–æ–º–∞–Ω–¥–∞ Alpha', award: '10000‚Ç¥' },
          { place: 2, name: '–ö–æ–º–∞–Ω–¥–∞ Beta', award: '5000‚Ç¥' },
          { place: 3, name: '–ö–æ–º–∞–Ω–¥–∞ Gamma', award: '2000‚Ç¥' }
        ]
      },
      {
        id: 'soloKing2024',
        icon: 'üëë',
        title: '–ö–æ—Ä–æ–ª—å 1v1 2024',
        tournamentName: 'Solo Showdown 2024',
        description: '–ö—Ä–∞—â–∏–π –≥—Ä–∞–≤–µ—Ü—å —É —Ç—É—Ä–Ω—ñ—Ä–∞—Ö 1 –Ω–∞ 1.',
        ranking: [
          { place: 1, name: '–ì—Ä–∞–≤–µ—Ü—å –û–¥–∏–Ω', award: '2500‚Ç¥' },
          { place: 2, name: '–ì—Ä–∞–≤–µ—Ü—å –î–≤–∞', award: '1000‚Ç¥' }
        ]
      }
    ];

    function displayAwards() {
      awardsList.innerHTML = '';
      awardsData.forEach(award => {
        const awardCard = document.createElement('div');
        awardCard.className = 'award-card';
        awardCard.dataset.tournamentName = award.tournamentName; // Store tournament name for details
        awardCard.innerHTML = `
          <div class="award-content-wrapper">
            <span class="award-card-icon">${award.icon}</span>
            <div class="award-text-content">
              <h4>${award.title}</h4>
              <p class="tournament-name-on-card">${award.tournamentName}</p>
            </div>
          </div>
        `;
        awardsList.appendChild(awardCard);
      });
    }

    function showTournamentDetails(tournamentName) {
      const tournament = awardsData.find(award => award.tournamentName === tournamentName);
      if (tournament) {
        document.getElementById('tournamentDetailsTitle').textContent = tournament.tournamentName;
        document.getElementById('tournamentDetailsDescription').textContent = tournament.description;

        const rankingBody = document.getElementById('tournamentRankingBody');
        rankingBody.innerHTML = '';
        tournament.ranking.forEach(rank => {
          const row = rankingBody.insertRow();
          row.insertCell(0).textContent = rank.place;
          row.insertCell(1).textContent = rank.name;
          row.insertCell(2).textContent = rank.award;
        });

        showSection('tournamentDetailsSection');
      }
    }

    // Navigation
    navItems.forEach(item => {
      item.addEventListener('click', () => {
        const sectionId = item.getAttribute('data-section');
        // If clicking on a main nav item, make sure tournament details is hidden
        if (sectionId !== 'tournamentDetailsSection') { // This check might be redundant if showSection is robust
             tournamentDetailsSection.classList.remove('active'); // Ensure it's hidden
        }
        showSection(sectionId);
      });
    });

    // Event listener for award cards
    document.getElementById('awardsSection').addEventListener('click', (event) => {
        const awardCard = event.target.closest('.award-card');
        if (awardCard) {
            const tournamentName = awardCard.dataset.tournamentName;
            if (tournamentName) {
                showTournamentDetails(tournamentName);
            }
        }
    });

    document.getElementById('backToAwardsBtn').addEventListener('click', () => {
        showSection('awardsSection');
    });

    // Initialize functions on load
    document.addEventListener('DOMContentLoaded', () => {
      applyLanguage(currentLanguage);
      updateProfileDisplay();
      showNotificationBadge();
      displayAwards(); // Call to display awards on page load

      // Admin menu visibility based on isAdmin status
      if (isAdmin) {
        adminMenuBtn.style.display = 'block';
      } else {
        adminMenuBtn.style.display = 'none';
      }

      // Hide all sections except home on initial load
      showSection('homeSection');
    });
  </script>
</body>
</html>
